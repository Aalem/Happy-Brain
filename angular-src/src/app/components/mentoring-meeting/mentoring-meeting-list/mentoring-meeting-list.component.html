<div class="center-me" *ngIf="!isDataLoaded">
    <mat-progress-spinner style="margin-top: -100px"
                          color="primary"
                          mode="indeterminate">
    </mat-progress-spinner>
</div>

<div *ngIf="isDataLoaded">
    <h1 class="mat-h2">Mentoring Meetings</h1>
    <div *ngIf="!isNoData">
        <mat-form-field>
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
        </mat-form-field>

        <div class="mat-elevation-z8 ">
            <table *ngIf="true" mat-table [dataSource]="dataSource" matSort>

                <!-- Number Column -->
                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> No.</th>
                    <td mat-cell *matCellDef="let row"> {{row.id+1}}</td>
                </ng-container>

                <!-- Subject Column -->
                <ng-container matColumnDef="subject_name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Subject</th>
                    <td mat-cell *matCellDef="let row">{{row.subject_name}}
                    </td>
                </ng-container>

                <ng-container matColumnDef="mentor_name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Mentor</th>
                    <td mat-cell *matCellDef="let row">
                        <button mat-button (click)="mentorDetails(row.mentor)">{{row.mentor_name}}</button>
                    </td>
                </ng-container>

                <!-- Student Column -->
                <ng-container matColumnDef="student_name">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Student</th>
                    <td mat-cell *matCellDef="let row">
                        <button mat-button (click)="studentDetails(row.student)">{{row.student_name}}</button>
                    </td>
                </ng-container>

                <!-- Session Column -->
                <ng-container matColumnDef="session">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Session</th>
                    <td mat-cell *matCellDef="let row">{{row.session}}</td>
                </ng-container>

                <!-- Date Column -->
                <ng-container matColumnDef="date">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Date</th>
                    <td mat-cell *matCellDef="let row">{{row.date}}
                    </td>
                </ng-container>

                <!-- Name Column -->
                <ng-container matColumnDef="comment">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Comment</th>
                    <td mat-cell *matCellDef="let row">
                        <button mat-button (click)="showComment(row.comment)">Show</button>
                    </td>

                </ng-container>


                <!-- Country Column -->
                <ng-container matColumnDef="rating">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Rating</th>
                    <td mat-cell *matCellDef="let row"> {{row.rating}}</td>
                </ng-container>
                <!-- Subject Column -->

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;">
                </tr>
            </table>
            <mat-paginator [pageSizeOptions]="[10, 25, 100]"></mat-paginator>
        </div>
    </div>
    <div *ngIf="isNoData">
        <br/>
        <mat-label><i>No mentoring meeting has been recorded yet!</i></mat-label>
    </div>
</div>
